{% extends "base.html" %}
{% block title %}
Learning Simulator
{% endblock %} 

{% block content %}

<div class="row" id="div-home">

  <div class="column left" style="background-color:#aaa;">
    <b>My scripts</b>

    <select multiple size="10" id="select-userscripts">
    {% if user.is_authenticated %}
      {% for script in user.scripts %}
        <option value={{ script.id }}>{{ script.name }}</option>
      {% endfor %}
    {% endif %}
    </select>
    
    {% if user.is_authenticated %}
      <button type="button" id="button-createscript">Create New Script</button>
      <button type="button" id="button-deletescript">Delete Selected</button>  
    {% else %}
      <a href="/login">Login</a> to be able to create your own scripts here.
    {% endif %}

  </div>

  <div class="column middle">
    <div>

      <div id="div-scriptname">
        <label for="input-scriptname">Name of script:&nbsp;</label>
        <input id="input-scriptname" maxlength="50" minlength="3" type="text" value="" required>
      </div>
      
      <!-- <div style="display: flex;"></div> -->
      <div style="display: flex;">
        <!-- <label for="textarea-code">Code:</label><br> -->
        <textarea id='linecounter' wrap='off' readonly>1</textarea>
        <textarea id="textarea-code" maxlength="10000" wrap="off"></textarea>
      </div>

      <div>
          <button type="button" id="button-savescript">Save</button>
          <button type="button" id="button-run">Run</button>
      </div>
      
    </div>
  </div>
  
  <div class="column right">
    <div id="plotarea">
      <!-- This is where the plots appear -->
    </div>
  </div>

</div>


<!-- ======================================================================= -->
<hr>

<button id="button-showdemo">Demo scripts</button>
<div id="div-demo">

    <div class="row">
      
      <div class="column left" style="background-color:#aaa;">
        <!-- <b>Demo scripts</b> -->

        <select size="10" id="select-demoscripts">
          {% for name in demo_script_names %}
            <option value={{ loop.index }}>{{ name }}</option>
          {% endfor %}
        </select>

      </div>

      <div class="column middle">
        <div id="div-script">
          
          <div>
            <label for="textarea-code-demo">Code:</label><br>              
            <textarea id="textarea-code-demo" readonly></textarea>
          </div>

          <div>
              <button type="button" id="button-run-demo">Run</button>
          </div>

        </div>
      </div>
      
      <div class="column right">
        <div id="plotarea-demo">
          <!-- This is where the plots for demo scripts appear -->
        </div>
      </div>

    </div>

</div>

<!-- --------------------------- -->

<div id="modal-bg">
    <!-- Modal content -->
    <div id="div-errordlg">
        <span id="errdlg-close">&times;</span>
        <p>
          <div id="div-errmsg"></div>
        </p>
        <button id="button-errdlg-details" value="Details >>">Details >></button>
        <p>
          <textarea id="textarea-errdlg-details"></textarea>
        </p>
    </div>
</div>

{% endblock %}
