n_subjects        = 10
mechanism         = tolman
behaviors         = b1, b2, b3#, b4, b5, b6, b7, b8, b9, b10
stimulus_elements = s0, s1, s2, s3, r
alpha_z = .1
alpha_v = .5
alpha_w = .5
start_z = 0
start_v = 0
start_w = 0
beta = 1
u = r:10, default:0

@variables p=1

@phase training1 stop: S0==200
S0 s0 | @omit_learn, S1
S1 s1 | b1:S2(p) | S0
S2 s2 | b2:S3(p) | S0
S3 s3 | b3:R(p)  | S0
R  r  | S0

@phase training2 stop: S1==200
S1 s1 | b1:S2(p) | S1
S2 s2 | b2:S3(p) | S2
S3 s3 | b1:R(p)  | S3
R  r  | S1

@run training1 runlabel:tolman

@hexport tolman.csv

mechanism = ga
@run training1 runlabel:alearning

subject=average
xscale=s0
@figure
@subplot 111 - {'xlabel':'Attempt', 'ylabel':'Rewards Collected'}
runlabel=tolman
@nplot r {'label':'Thinking', 'linewidth':2}
runlabel=alearning
@nplot r {'label':'Chaining', 'linewidth':2}
@legend

